(this.webpackJsonpbonds=this.webpackJsonpbonds||[]).push([[0],[,function(e,t,a){e.exports={table:"bonds-table_table__m2n6p",cellText:"bonds-table_cellText__16BaU",cellNumber:"bonds-table_cellNumber__2p7DK",cellGood:"bonds-table_cellGood__2F0RN",cellOk:"bonds-table_cellOk__3XPvV",row:"bonds-table_row___2uNI",headRow:"bonds-table_headRow__2rbwK"}},,function(e,t,a){e.exports={main:"bonds-list_main__fgJfl",disclaimer:"bonds-list_disclaimer__3xHeq"}},,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(5),s=a.n(n),o=(a(12),a(13),a(6)),c=a.n(o),i=a(1),m=a.n(i);const u=e=>{const{list:t}=e;return r.a.createElement("table",{className:m.a.table},r.a.createElement("thead",null,r.a.createElement("tr",{className:m.a.headRow},["\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u044f","\u0421\u0440\u043e\u043a","\u0426\u0435\u043d\u0430","\u041a\u0443\u043f\u043e\u043d","\u041f\u0435\u0440-\u0434","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c","\u041e\u0431\u044a\u0435\u043c","\u041d\u041a\u0414","\u0411\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043b\u0430\u0447\u0435\u043d\u043e\n\u043a \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044e","\u041d\u0430\u043b\u043e\u0433","\u041e\u0431\u0449\u0438\u0439\n\u0434\u043e\u0445\u043e\u0434, \u0440","% \u0433\u043e\u0434\u043e\u0432\u044b\u0445","ISIN"].map((e,t)=>r.a.createElement("th",{key:t},e)))),r.a.createElement("tbody",null,t.map(d)))};function d(e){const{shortName:t,name:a,matureDate:l,couponValue:n,isin:s,couponPeriod:o,accruedInterest:i,volume:u,spread:d,quote:f}=e,b=e.nominal,p=b*f/100,N=0|l.diffNow("days").days,E=(o-N%o-1)*n/o,v=Math.floor(N/o)+1,y=v*n+b,_=v*n*.13,w=y-E-p-_,D=Math.round(w/p/N*365*1e4)/100;return r.a.createElement("tr",{className:m.a.row,key:s},r.a.createElement("td",{className:m.a.cellText,title:a},t),r.a.createElement("td",{className:m.a.cellNumber,title:l.toFormat("dd.MM.yyyy")},N),r.a.createElement("td",{className:m.a.cellNumber},h(p)),r.a.createElement("td",{className:m.a.cellNumber},h(n)),r.a.createElement("td",{className:m.a.cellNumber},o),r.a.createElement("td",{className:m.a.cellNumber},v),r.a.createElement("td",{className:c()(m.a.cellNumber,{[m.a.cellOk]:u>5e6&&u<1e7,[m.a.cellGood]:u>1e7}),title:"\u0421\u043f\u0440\u0435\u0434 ".concat(d)},function(e){let t=e/1e6;return(t>=.1?h(t,1):"< 0,1")+" \u043c\u043b\u043d."}(u)),r.a.createElement("td",{className:m.a.cellNumber},h(E)," (",h(i),")"),r.a.createElement("td",{className:m.a.cellNumber},h(y)),r.a.createElement("td",{className:m.a.cellNumber},h(_)),r.a.createElement("td",{className:m.a.cellNumber},h(w)),r.a.createElement("td",{className:m.a.cellNumber},D,"\u2009%"),r.a.createElement("td",{className:m.a.cellText},s))}function h(e,t=2){return e.toLocaleString("ru-RU",{minimumFractionDigits:t,maximumFractionDigits:t})}var f=a(3),b=a.n(f);class p extends r.a.Component{constructor(...e){super(...e),this.state={filters:{minVolume:1e4,minToMature:30,maxToMature:548,name:"\u0438\u043d\u0433\u0431,\u043f\u043e\u0447\u0442\u0430\u0440,\u0440\u043e\u0441\u043c\u043e\u0440\u043f,\u0440\u0441\u0435\u0442\u0438\u043b\u044d,\u0441\u0431\u0435\u0440,\u0441\u0435\u0432\u0435\u0440\u0441\u0442,\u0441\u0437\u043a\u043a,\u0441\u043f\u0431\u0433\u043e,\u0442\u0430\u0442\u043d\u0444\u0442,\u0442\u043e\u0439\u043e\u0442\u0430,\u0444\u043e\u043b\u043a\u0441\u0432,\u0444\u043f\u043a,\u0440\u0441\u0445\u0431,\u0440\u0436\u0434,\u043a\u0440\u0430\u0441\u043d\u043e\u0434\u043a\u0440,\u0444\u0441\u043a \u0435\u044d\u0441,\u0440\u043e\u0441\u0430\u0442\u043e\u043c,\u0447\u0435\u043b\u044f\u0431,\u044f\u043d\u0430\u043e,\u0441\u0430\u043c\u0430\u0440\u043e\u0431\u043b,\u043f\u0440\u043e\u043c\u0441\u0432\u0431,\u0430\u043b\u044c\u0444\u0430,\u0431\u0430\u0448\u043a\u043e\u0440\u0442,\u0433\u0430\u0437\u043f\u043d\u0444,\u0433\u0430\u0437\u043f\u0440\u043d\u0435\u0444,\u0433\u0430\u0437\u043f\u0440\u043e\u043c,\u0433\u043f\u0431,\u043b\u0438\u043f\u0435\u0446\u043a\u043e\u0431,\u043c\u043e\u0441\u043e\u0431,\u043c\u043e\u044d\u043a,\u043c\u0440\u0441\u043a\u0446\u0435,\u043c\u0440\u0441\u043a\u0446\u043f,\u043c\u0442\u0441,\u043c\u0442\u0441,\u043d\u043e\u0432\u043e\u0441\u0438\u0431,\u043d\u043e\u0432\u0441\u0438\u0431,\u043d\u043e\u0440\u043d\u0438\u043a,\u043e\u0433\u043a-2,\u0440\u043e\u0441\u0441\u0435\u0442,\u0440\u0441\u0435\u0442\u0438,\u0440\u0443\u0441\u0433\u0438\u0434\u0440\u043e,\u0442\u0440\u0430\u043d\u0441\u043d\u0444,\u0442\u0440\u043d\u0444,\u0445\u043c\u0430\u043e,\u043e\u0442\u043a\u0440,\u0432\u0442\u0431,\u043c\u043e\u0441\u043a\u0440\u0435\u0434,\u0440\u0430\u0439\u0444\u0431,\u0440\u043e\u0441\u0431\u0430\u043d\u043a",onlyActive:!0,onlyCheap:!0}},this.sanitize=e=>e.quote>100&&e.couponPeriod>10&&e.accruedInterest>0,this.sortByMatureDate=(e,t)=>e.matureDate>t.matureDate?1:-1,this.filterOnlyCheap=e=>!this.state.filters.onlyCheap||e.couponValue<100,this.filterOnlyActive=e=>!this.state.filters.onlyActive||e.couponValue>1,this.filterByName=e=>{const{filters:{name:t}}=this.state,a=t.split(",");return 0===a.length||!!a.find(t=>e.shortName.toLowerCase().startsWith(t))},this.filterByVolume=e=>{const{filters:{minVolume:t}}=this.state;return!t||e.volume>=t},this.filterByToMature=e=>{const{filters:{minToMature:t,maxToMature:a}}=this.state,l=e.matureDate.diffNow("days").days;return l>=t&&l<=a}}render(){const e=this.props.list.filter(this.sanitize).filter(this.filterOnlyActive).filter(this.filterByName).filter(this.filterOnlyCheap).filter(this.filterByVolume).filter(this.filterByToMature).sort(this.sortByMatureDate);return r.a.createElement("div",null,r.a.createElement("h1",null,"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438 \u043d\u0430 \u041c\u043e\u0441\u0431\u0438\u0440\u0436\u0435 (",e.length,")"),r.a.createElement("div",{className:b.a.main},r.a.createElement(u,{list:e})),r.a.createElement("div",{className:b.a.disclaimer},r.a.createElement("p",null,"\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u044b \u043e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438 \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u043e\u0432 \u0441 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u043c \u043d\u0435 \u043d\u0438\u0436\u0435 A \u0441\u043e \u0441\u0440\u043e\u043a\u0430\u043c\u0438 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f \u043e\u0442 1 \u0434\u043e 18 \u043c\u0435\u0441."),r.a.createElement("p",null,"\u0420\u0430\u0441\u0447\u0451\u0442 \u043d\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0443\u044e \u043e\u0444\u0435\u0440\u0442\u0443, \u0430\u043c\u043e\u0440\u0442\u0438\u0437\u0430\u0446\u0438\u044e \u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u043a\u0443\u043f\u043e\u043d. \u0414\u043b\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0438\u0437\u0443\u0447\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438. \u041f\u0440\u043e\u0449\u0435 \u0432\u0441\u0435\u0433\u043e \u043d\u0430\u0439\u0442\u0438 \u0435\u0451 \u043f\u043e ISIN \u043d\u0430 ",r.a.createElement("a",{href:"https://www.rusbonds.ru/compare.asp"},"\u0441\u0430\u0439\u0442\u0435 \u0418\u043d\u0442\u0435\u0440\u0444\u0430\u043a\u0441\u0430"),".")))}}var N=a(2);const E=["TQCB","EQOB"],v=async()=>{const e=E.map(e=>"https://iss.moex.com/iss/engines/stock/markets/bonds/boards/%BOARD%/securities.json".replace("%BOARD%",e)),t=await e.map(async e=>{const t=await fetch(e);return await t.json()}),a=await Promise.all(t),l=a.reduce((e,t)=>{var a;return e.concat(null===t||void 0===t||null===(a=t.securities)||void 0===a?void 0:a.data)},[]),r=a.reduce((e,t)=>{var a;return e.concat(null===t||void 0===t||null===(a=t.marketdata)||void 0===a?void 0:a.data)},[]),n=a.reduce((e,t)=>{var a;return e.concat(null===t||void 0===t||null===(a=t.marketdata_yields)||void 0===a?void 0:a.data)},[]);return l.map(e=>{const t=r.find(t=>e[0]===t[0]),a=n.find(t=>e[0]===t[0]);return function([e,t,a,l,r,n,s,o,c,i,m,u,d,h,f,b,p,E,v,y,_,w,D,O,B,T,x,g,k,I,M,S,V,A,C,P,R,j,q,F],G,J){return{shortName:a,name:_,matureDate:N.DateTime.fromISO(h),accruedInterest:o,couponPercent:R,couponPeriod:b,couponValue:n,nextCoupon:N.DateTime.fromISO(s),isin:I,offerDate:N.DateTime.fromISO(j),settleDate:N.DateTime.fromISO(q),averagePrice:l,quote:J?J[2]:0,spread:G[5],volume:G[53],nominal:F}}(e,t,a)})};var y=function(){const[e,t]=Object(l.useState)([]);return Object(l.useEffect)(()=>{v().then(t)},[]),r.a.createElement("div",{className:"App"},r.a.createElement(p,{list:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}],[[7,1,2]]]);
//# sourceMappingURL=main.839c311d.chunk.js.map